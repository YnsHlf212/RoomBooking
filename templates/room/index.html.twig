{% extends 'base.html.twig' %}

{% block title %}Room index{% endblock %}

{% block body %}
    <div class="page-header">
        <h1>üè† Salles disponibles</h1>
        {% if is_granted('ROLE_ADMIN') %}
            <a href="{{ path('app_room_new') }}" class="btn btn-primary">+ Nouvelle salle</a>
        {% endif %}
    </div>

    <input type="text" id="table-search"
           placeholder="üîç Rechercher une salle..."
           style="margin-bottom:1.5rem; max-width:400px;">

    <table>
        <thead>
            <tr>
                <th>Nom</th>
                <th>Capacit√©</th>
                <th>Statut</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for room in rooms %}
                <tr>
                    <td>{{ room.name }}</td>
                    <td>{{ room.capacity }} personnes</td>
                    <td>{{ room.isActive ? 'üü¢ Disponible' : 'üî¥ Indisponible' }}</td>
                    <td>
                        <a href="{{ path('app_room_show', {'id': room.id}) }}" class="btn">Voir</a>
                        {% if is_granted('ROLE_ADMIN') %}
                            <a href="{{ path('app_room_edit', {'id': room.id}) }}" class="btn">Modifier</a>
                        {% endif %}
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}